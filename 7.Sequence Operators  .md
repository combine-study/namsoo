# 7.Sequence Operators

ì´ ì¹´í…Œê³ ë¦¬ì— ì†í•˜ëŠ” ë§ì€ ì—°ì‚°ìë“¤ì€ swiftí‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì—°ì‚°ìì™€ ê±°ì˜ ë™ì¼í•œ ì´ë¦„ê³¼ ë™ì‘ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.

## Finding values

ê²Œì‹œìê°€ ê¸°ì¤€ì— ë”°ë¼ ë°©ì¶œí•˜ëŠ” íŠ¹ì •ê°’ì„ ì°¾ëŠ” ì—°ì‚°ìë¡œ, swift í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ì»¬ë™ì…˜ í•¨ìˆ˜ì™€ ìœ ì‚¬í•©ë‹ˆë‹¤.

### min

ê²Œì‹œìê°€ ë°©ì¶œí•œ ê°’ì¤‘ì—ì„œ ê°€ì¥ ì‘ì€ ê°’ì„ ì°¾ëŠ” ì—°ì‚°ìì…ë‹ˆë‹¤.

ê²Œì‹œìê°€ `.finished` completionì´ë²¤íŠ¸ë¥¼ ë³´ë‚´ê¸°ë¥¼ ê¸°ë‹¤ë¦½ë‹ˆë‹¤.

ê²Œì‹œìê°€ ì™„ë£Œë˜ë©´, ì—°ì‚°ìì— ì˜í•´ ìµœì†Œê°’ì´ ë°©ì¶œë©ë‹ˆë‹¤.

``` swift
example(of: "min") {
    let publisher = [1, -50, 246, 0].publisher
    publisher
        .print("publisher")
        .min()
        .sink(receiveValue: { print("Lowest value is \($0)") })
        .store(in: &subscriptions)
}
// print
â€”â€”â€” Example of: min â€”â€”â€”
publisher: receive subscription: ([1, -50, 246, 0])
publisher: request unlimited
publisher: receive value: (1)
publisher: receive value: (-50)
publisher: receive value: (246)
publisher: receive value: (0)
publisher: receive finished
Lowest value is -50
```

ëª¨ë“ ê°’ì„ ë°©ì¶œí•˜ê³ , ëë‚œë’¤ì— `min`ì€ ìµœì†Œê°’ì„ `sink`ë‹¤ìš´ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ë³´ëƒ…ë‹ˆë‹¤.

`Comparable`ì„ ì¤€ìˆ˜í•˜ê³ ìˆì§€ì•Šìœ¼ë©´ `min(by:)`ë¥¼ í†µí•´ì„œ ì¡°ê±´ì„ ë„£ì–´ ë¹„êµí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

</br>

### min(by: )

``` swift
example(of: "min non-Comparable") {
    let publisher = ["12345",
                     "ab",
                     "hello world"]
        .map { Data($0.utf8) } // [Data]
        .publisher // Publisher<Data, Never>
    
    publisher
        .print("publisher")
        .min(by: { $0.count < $1.count })
        .sink(receiveValue: { data in
            let string = String(data: data, encoding: .utf8)!
            print("Smallest data is \(string), \(data.count) bytes")
        })
        .store(in: &subscriptions)
}
// print
â€”â€”â€” Example of: min non-Comparable â€”â€”â€”
publisher: receive subscription: ([5 bytes, 2 bytes, 11 bytes])
publisher: request unlimited
publisher: receive value: (5 bytes)
publisher: receive value: (2 bytes)
publisher: receive value: (11 bytes)
publisher: receive finished
Smallest data is ab, 2 bytes
```

</br>

### max

ê²Œì‹œìê°€ ë°©ì¶œí•˜ëŠ” ìµœëŒ“ê°’ì„ ì°¾ìŠµë‹ˆë‹¤.

`min`ê³¼ ë™ì¼í•˜ê²Œ ì‘ë™í•©ë‹ˆë‹¤.

``` swift
example(of: "max") {
  let publisher = ["A", "F", "Z", "E"].publisher
    
  publisher
    .print("publisher")
    .max()
    .sink(receiveValue: { print("Highest value is \($0)") })
    .store(in: &subscriptions)
}
// print
â€”â€”â€” Example of: max â€”â€”â€”
publisher: receive subscription: (["A", "F", "Z", "E"])
publisher: request unlimited
publisher: receive value: (A)
publisher: receive value: (F)
publisher: receive value: (Z)
publisher: receive value: (E)
publisher: receive finished
Highest value is Z
```

minê³¼ ë§ˆì°¬ê°€ì§€ë¡œ ë¹„êµí•  ìˆ˜ ì—†ëŠ” ê°’ë“¤ì—ëŒ€í•´ì„œëŠ” (by:) ë§¤ê°œë³€ìˆ˜ë¥¼ í†µí•´ì„œ ì¡°ê±´ì„ ì „ë‹¬ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

</br>

### first

min,maxëŠ” ì•Œìˆ˜ì—†ëŠ” indexì—ì„œ ê²Œì‹œëœ ê°’ì„ ì°¾ëŠ” ê²ƒì„ ë‹¤ë£¨ì§€ë§Œ, ì´ ì„¹ì…˜ì˜ ë‚˜ë¨¸ì§€ ì—°ì‚°ìëŠ” ì²«ë²ˆì§¸ ì—°ì‚°ìë¶€í„° ì‹œì‘í•˜ì—¬ íŠ¹ì •ìœ„ì¹˜ì—ì„œ ë°©ì¶œëœ ê°’ì„ ì°¾ëŠ” ê²ƒì„ ë‹¤ë£¹ë‹ˆë‹¤.

`first` ì—°ì‚°ìëŠ” swift ì»¬ë™ì…˜ì— ìˆëŠ” í”„ë¡œí¼í‹°ì™€ ë¹„ìŠ·í•˜ì§€ë§Œ, ì²«ë²ˆì§¸ ë°©ì¶œëœê°’ì„ í†µê³¼ì‹œí‚¤ê³  ì™„ë£Œí•œë‹¤ëŠ” ì ì´ ë‹¤ë¦…ë‹ˆë‹¤.

ì´ê²ƒì€ `lazy`í•œ ê²ƒìœ¼ë¡œ, ì—…ìŠ¤íŠ¸ë¦¼ ê²Œì‹œìê°€ ëë‚˜ê¸°ë¥¼ ê¸°ë‹¤ë¦¬ì§€ì•Šê³ , ë‚´ë³´ë‚¸ ì²«ë²ˆì§¸ ê°’ì„ ë°›ìœ¼ë©´ êµ¬ë…ì„ ì·¨ì†Œí•œë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤.

``` swift
example(of: "first") {
  let publisher = ["A", "B", "C"].publisher

  publisher
    .print("publisher")
    .first()
    .sink(receiveValue: { print("First value is \($0)") })
    .store(in: &subscriptions)
}
// print
â€”â€”â€” Example of: first â€”â€”â€”
publisher: receive subscription: (["A", "B", "C"])
publisher: request unlimited
publisher: receive value: (A)
publisher: receive cancel
First value is A
```

</br>

### first(where: )

ìˆ ì–´ê°€ ìˆëŠ” ê²½ìš° ì œê³µëœ ìˆ ì–´ì™€ ì¼ì¹˜í•˜ëŠ” ì²«ë²ˆì§¸ ê°’ì„ ì°¾ìŠµë‹ˆë‹¤.

``` swift
example(of: "first(where:)") {
  let publisher = ["J", "O", "H", "N"].publisher

  publisher
    .print("publisher")
    .first(where: { "Hello World".contains($0) })
    .sink(receiveValue: { print("First match is \($0)") })
    .store(in: &subscriptions)
}
// print
â€”â€”â€” Example of: first(where:) â€”â€”â€”
publisher: receive subscription: (["J", "O", "H", "N"])
publisher: request unlimited
publisher: receive value: (J)
publisher: receive value: (O)
publisher: receive value: (H)
publisher: receive cancel
First match is H
```

ìœ„ì˜ì½”ë“œì—ì„œ Hello Worldì— í¬í•¨ëœ ë‹¨ì–´ê°€ ì²«ë²ˆì§¸ë¡œ ë‚˜ì˜¤ë©´ ì „ë‹¬í•˜ê³  êµ¬ë…ì´ ì·¨ì†Œë©ë‹ˆë‹¤.

</br>

### last

firstì˜ ë°˜ëŒ€ì…ë‹ˆë‹¤.

ì—…ìŠ¤íŠ¸ë¦¼ ê²Œì‹œìê°€ ì™„ë£Œë ë•Œ ê¹Œì§€ ê¸°ë‹¤ë¦¬ë©°, ê²Œì‹œìê°€ ë°©ì¶œí•˜ëŠ” ë§ˆì§€ë§‰ê°’ì„ ë°©ì¶œí•©ë‹ˆë‹¤.

``` swift
example(of: "last") {
  let publisher = ["A", "B", "C"].publisher

  publisher
    .print("publisher")
    .last()
    .sink(receiveValue: { print("Last value is \($0)") })
    .store(in: &subscriptions)
}
// print
â€”â€”â€” Example of: last â€”â€”â€”
publisher: receive subscription: (["A", "B", "C"])
publisher: request unlimited
publisher: receive value: (A)
publisher: receive value: (B)
publisher: receive value: (C)
publisher: receive finished
Last value is C
```

firstì™€ ë§ˆì°¬ê°€ì§€ë¡œ where ë§¤ê°œë³€ìˆ˜ë¥¼ ì œê³µí•˜ë©°, ìˆ ì–´ì™€ ì¼ì¹˜í•œ ë§ˆì§€ë§‰ê°’ì„ ì°¾ìŠµë‹ˆë‹¤.

</br>

### output(at: )

ì§€ì •ëœ ì¸ë±ìŠ¤ì— ìˆëŠ” ì—…ìŠ¤íŠ¸ë¦¼ê²Œì‹œìì— ì˜í•´ ë°©ì¶œëœ ê°’ì„ ì°¾ìŠµë‹ˆë‹¤.

``` swift
example(of: "output(at:)") {
  let publisher = ["A", "B", "C"].publisher

  publisher
    .print("publisher")
    .output(at: 1)
    .sink(receiveValue: { print("Value at index 1 is \($0)") })
    .store(in: &subscriptions)
}
// print
â€”â€”â€” Example of: output(at:) â€”â€”â€”
publisher: receive subscription: (["A", "B", "C"])
publisher: request unlimited
publisher: receive value: (A)
publisher: request max: (1) (synchronous)
publisher: receive value: (B)
Value at index 1 is B
publisher: receive cancel
```

ìœ„ì˜ì½”ë“œëŠ” ê²Œì‹œìì—ì„œ ë°©ì¶œë˜ëŠ” ê°’ë“¤ì¤‘ index 1ì—ì„œ ë°©ì¶œë˜ëŠ” ê°’ë§Œ í†µê³¼ì‹œí‚µë‹ˆë‹¤.

ì´ ì—°ì‚°ìëŠ” í•˜ë‚˜ì˜ ê°’ë§Œ ì°¾ëŠ”ë‹¤ëŠ” ê²ƒì„ ì•Œê¸° ë•Œë¬¸ì— ë°©ì¶œëœ ê°’ë§ˆë‹¤ í•˜ë‚˜ì˜ ê°’ì„ ë” ìš”êµ¬í•©ë‹ˆë‹¤.
(max 1ë¶€ë¶„)

íŠ¹ì • ì—°ì‚°ìì˜ ì„¸ë¶€êµ¬í˜„ì‚¬í•­ì´ì§€ë§Œ ì• í”Œì´ ìì²´ ë‚´ì¥ì½¤ë°”ì¸ ì—°ì‚°ìì¤‘ ì¼ë¶€ë¥¼ ì„¤ê³„í•˜ì—¬ backpressureë¥¼ í™œìš©í•˜ëŠ” ë°©ë²•ì— ëŒ€í•œ í¥ë¯¸ë¡œìš´ í†µì°°ë ¥ì„ ì œê³µí•©ë‹ˆë‹¤.
(backPressure: ë°ì´í„°ìƒì‚°ê³¼ì™€ ì†Œë¹„ê°€ ë¶ˆê· í˜•í•´ì§€ëŠ” í˜„ìƒë“¤, ì˜ˆë¥¼ë“¤ì–´ ìƒì‚°ì€ 1ì´ˆì— 1ê°œì¸ë° ì†Œë¹„ê°€ 1ì´ˆì— 10ê°œë¥¼ ì“´ë‹¤ê³ í•˜ë©´ ëª¨ìë¼ê²Œë˜ëŠ”ê²ƒ index errorê°€ ë°œìƒ)

``` swift
example(of: "output(at:)") {
  let publisher = ["A", "B", "C"].publisher

  publisher
    .print("publisher")
    .output(at: 4)
    .sink(receiveValue: { print("Value at index 1 is \($0)") })
    .store(in: &subscriptions)
}
// print
â€”â€”â€” Example of: output(at:) â€”â€”â€”
publisher: receive subscription: (["A", "B", "C"])
publisher: request unlimited
publisher: receive value: (A)
publisher: request max: (1) (synchronous)
publisher: receive value: (B)
publisher: request max: (1) (synchronous)
publisher: receive value: (C)
publisher: request max: (1) (synchronous)
publisher: receive finished
```

at:ì˜ indexë¡œ ë°°ì—´ë³´ë‹¤ í° ìˆ«ìë¥¼ ë„£ì–´ë„ indexì—ëŸ¬ê°€ ë‚˜ì§€ì•Šê³  `.finish`ë¡œ ëë‚˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ìˆìŠµë‹ˆë‹¤. 

</br>

### output(in:)

ì´ ì—°ì‚°ìëŠ” ì¸ë±ìŠ¤ê°€ ì§€ì •ëœ ë²”ìœ„ë‚´ì— ìˆëŠ” ê°’ì„ ë°©ì¶œí•©ë‹ˆë‹¤.

``` swift
example(of: "output(in:)") {
    let publisher = ["A", "B", "C", "D", "E"].publisher
    
    publisher
        .print("publisher")
        .output(in: 1...3)
        .sink(receiveCompletion: { print($0) },
              receiveValue: { print("Value in range: \($0)") })
        .store(in: &subscriptions)
}
// print

â€”â€”â€” Example of: output(in:) â€”â€”â€”
publisher: receive subscription: (["A", "B", "C", "D", "E"])
publisher: request unlimited
publisher: receive value: (A)
publisher: request max: (1) (synchronous)
publisher: receive value: (B)
Value in range: B
publisher: receive value: (C)
Value in range: C
publisher: receive value: (D)
Value in range: D
publisher: receive cancel
finished
```

ë²”ìœ„ë‚´ì˜ ëª¨ë“  ê°’ì„ ìˆ˜ì‹ í•˜ëŠ” ì¦‰ì‹œ êµ¬ë…ì„ ì·¨ì†Œí•©ë‹ˆë‹¤.

</br>

## Querying the publisher

ì´ëŸ¬í•œ ì—°ì‚°ìë“¤ì€ ì „ì²´ì ìœ¼ë¡œ ê²Œì‹œìì˜ ì¼ë¶€ ì¿¼ë¦¬ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë‹¤ë¥¸ ê°’ì„ ë°©ì¶œí•©ë‹ˆë‹¤.

### count

`.finished`ì™„ë£Œ ì´ë²¤íŠ¸ë¥¼ ë°©ì¶œí•œí›„ ì—…ìŠ¤íŠ¸ë¦¼ ê²Œì‹œìê°€ ë‚´ë³´ë‚¸ ê°’ì˜ ê°¯ìˆ˜ì˜ ê°’ì„ ë°©ì¶œí•©ë‹ˆë‹¤.

``` swift
example(of: "count") {
    let publisher = ["A", "B", "C"].publisher
    
    publisher
        .print("publisher")
        .count()
        .sink(receiveValue: { print("I have \($0) items") })
        .store(in: &subscriptions)
}
// print
â€”â€”â€” Example of: count â€”â€”â€”
publisher: receive subscription: (["A", "B", "C"])
publisher: request unlimited
publisher: receive value: (A)
publisher: receive value: (B)
publisher: receive value: (C)
publisher: receive finished
I have 3 items
```

</br>

### contains

ì§€ì •ëœ ê°’ì„ ê²Œì‹œìê°€ ë°©ì¶œí•œê²½ìš° trueë¥¼ ë°©ì¶œí•˜ê³  êµ¬ë…ì„ ì·¨ì†Œí•˜ë©°, ë™ì¼í•œ ê°’ì´ ì—†ë‹¤ë©´ falseë¥¼ ë°©ì¶œí•©ë‹ˆë‹¤.

``` swift

example(of: "contains") {
    let publisher = ["A", "B", "C", "D", "E"].publisher
    let letter = "C"
    
    publisher
        .print("publisher")
        .contains(letter)
        .sink(receiveValue: { contains in
            print(contains ? "Publisher emitted \(letter)!"
                  : "Publisher never emitted \(letter)!")
        })
        .store(in: &subscriptions)
    
    print("--fail case--")
    
    let failLetter = "AB"
    publisher
        .print("publisher")
        .contains(failLetter)
        .sink(receiveValue: { contains in
            print(contains ? "Publisher emitted \(failLetter)!"
                  : "Publisher never emitted \(failLetter)!")
        })
        .store(in: &subscriptions)
}
// print
â€”â€”â€” Example of: contains â€”â€”â€”
publisher: receive subscription: (["A", "B", "C", "D", "E"])
publisher: request unlimited
publisher: receive value: (A)
publisher: receive value: (B)
publisher: receive value: (C)
publisher: receive cancel
Publisher emitted C!
--fail case--
publisher: receive subscription: (["A", "B", "C", "D", "E"])
publisher: request unlimited
publisher: receive value: (A)
publisher: receive value: (B)
publisher: receive value: (C)
publisher: receive value: (D)
publisher: receive value: (E)
publisher: receive finished
Publisher never emitted AB!
```

</br>

### contains(where: )

ì œê³µí•œ ìˆ ì–´ì™€ ì¼ì¹˜í•˜ëŠ” í•­ëª©ì„ ì°¾ê±°ë‚˜ Comparableì„ ì¤€ìˆ˜í•˜ì§€ì•ŠëŠ” ê°’ì˜ ì¡´ì¬ë¥¼ í™•ì¸í•˜ë ¤í• ë•Œ ì‚¬ìš©í• ìˆ˜ ìˆëŠ” ë°©ë²•ì…ë‹ˆë‹¤.

``` swift

example(of: "contains(where:)") {
    struct Person {
        let id: Int
        let name: String
    }
    
    let people = [
        (123, "Shai Mishali"),
        (777, "Marin Todorov"),
        (214, "Florent Pillet")
    ]
        .map(Person.init)
        .publisher
    
    people
        .contains(where: { $0.id == 800 })
        .sink(receiveValue: { contains in
            print(contains ? "Criteria matches!"
                  : "Couldn't find a match for the criteria")
        }).store(in: &subscriptions)
}
// print
â€”â€”â€” Example of: contains(where:) â€”â€”â€”
Couldn't find a match for the criteria
```

 </br>

### allSatisfy

ì—…ìŠ¤íŠ¸ë¦¼ ê²Œì‹œìê°€ ë‚´ë³´ë‚´ëŠ” ëª¨ë“  ê°’ì´ í•´ë‹¹ ìˆ ì–´ì™€ ì¼ì¹˜í•˜ëŠ”ì§€ ì—¬ë¶€ë¥¼ Boolê°’ìœ¼ë¡œ ë°©ì¶œí•©ë‹ˆë‹¤.

`.finished`ì™„ë£Œ ì´ë²¤íŠ¸ë¥¼ ë°©ì¶œí• ë•Œê¹Œì§€ ê¸°ë‹¤ë¦½ë‹ˆë‹¤.

``` swift
example(of: "allSatisfy") {
    let publisher = stride(from: 0, to: 5, by: 2).publisher
    
    publisher
        .print("publisher")
        .allSatisfy { $0 % 2 == 0 }
        .sink(receiveValue: { allEven in
            print(allEven ? "All numbers are even"
                  : "Something is odd...")
        })
        .store(in: &subscriptions)
}
// print
â€”â€”â€” Example of: allSatisfy â€”â€”â€”
publisher: receive subscription: (Sequence)
publisher: request unlimited
publisher: receive value: (0)
publisher: receive value: (2)
publisher: receive value: (4)
publisher: receive finished
All numbers are even
```



ë‹¨í•˜ë‚˜ì˜ ê°’ì´ë¼ë„ ì¡°ê±´ì„ í†µê³¼í•˜ì§€ëª»í•˜ë©´ ì¦‰ì‹œ ê±°ì§“ì„ ë°©ì¶œí•˜ê³  êµ¬ë…ì„ ì·¨ì†Œí•©ë‹ˆë‹¤.

``` swift

example(of: "allSatisfy") {
    let publisher = stride(from: 0, to: 5, by: 1).publisher
    
    publisher
        .print("publisher")
        .allSatisfy { $0 % 2 == 0 }
        .sink(receiveValue: { allEven in
            print(allEven ? "All numbers are even"
                  : "Something is odd...")
        })
        .store(in: &subscriptions)
}
// print
â€”â€”â€” Example of: allSatisfy â€”â€”â€”
publisher: receive subscription: (Sequence)
publisher: request unlimited
publisher: receive value: (0)
publisher: receive value: (1)
publisher: receive cancel
Something is odd...
```

</br>

### reduce

ì—…ìŠ¤íŠ¸ë¦¼ ê²Œì‹œìê°€ ë°°ì¶œí•œ ê°’ì„ ê¸°ì¤€ìœ¼ë¡œ ìƒˆê°’ì„ ë°˜ë³µì ìœ¼ë¡œ ëˆ„ì í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

swiftí‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ì—°ì‚°ìì²˜ëŸ¼ ë™ì‘í•©ë‹ˆë‹¤.

ëˆ„ì ê°’ê³¼ í˜„ì¬ ê°’ì„ ìˆ˜ì‹ í•˜ê³ `.finished`ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ë©´ ìµœì¢… ëˆ„ì ê°’ì„ ë°©ì¶œí•©ë‹ˆë‹¤.

``` swift
example(of: "reduce") {
    let publisher = ["Hel", "lo", " ", "Wor", "ld", "!"].publisher
    publisher
        .print("publisher")
        .reduce("") { accumulator, value in
            print("ğŸ”–" + accumulator, "+", value)
            return accumulator + value
        }
        .sink(receiveValue: { print("Reduced into: \($0)") })
        .store(in: &subscriptions)
}
// print
â€”â€”â€” Example of: reduce â€”â€”â€”
publisher: receive subscription: (["Hel", "lo", " ", "Wor", "ld", "!"])
publisher: request unlimited
publisher: receive value: (Hel)
ğŸ”– + Hel
publisher: receive value: (lo)
ğŸ”–Hel + lo
publisher: receive value: ( )
ğŸ”–Hello +  
publisher: receive value: (Wor)
ğŸ”–Hello  + Wor
publisher: receive value: (ld)
ğŸ”–Hello Wor + ld
publisher: receive value: (!)
ğŸ”–Hello World + !
publisher: receive finished // << finished ë°©ì¶œí›„
Reduced into: Hello World! // í•˜ë‚˜ì˜ ê²°ê³¼ê°’ë§Œ ë‚˜ì˜´
```

</br>

### scan vs reduce

scanì€ ëª¨ë“  ë°©ì¶œëœ ê°’ì— ëŒ€í•´ ëˆ„ì ëœ ê°’ì„ ë‚´ë³´ëƒ„ (1ë°©ì¶œì‹œ 1ê²°ê³¼ê°€ë‚˜ì˜´)

reduceëŠ” ì—…ìŠ¤íŠ¸ë¦¼ê²Œì‹œìê°€ `.finished`ì™„ë£Œì´ë²¤íŠ¸ë¥¼ ì „ì†¡í•œí›„ ëˆ„ì ëœ ë‹¨ì¼ê°’ì„ ë‚´ë³´ëƒ„

``` swift
publisher
        .print("scan:")
        .scan("") { accumulator, value in
            print("ğŸ”–" + accumulator, "+", value)
            return accumulator + value
        }
        .sink(receiveValue: { print("scan into: \($0)")})
        .store(in: &subscriptions)
// print
scan:: receive subscription: (["Hel", "lo", " ", "Wor", "ld", "!"])
scan:: request unlimited
scan:: receive value: (Hel)
ğŸ”– + Hel
scan into: Hel // ë°©ì¶œëœ ê°’ì´ ìˆì„ ë•Œë§ˆë‹¤ ê²°ê³¼ê°’ ë‚˜ì˜´
scan:: receive value: (lo)
ğŸ”–Hel + lo
scan into: Hello
scan:: receive value: ( )
ğŸ”–Hello +  
scan into: Hello 
scan:: receive value: (Wor)
ğŸ”–Hello  + Wor
scan into: Hello Wor
scan:: receive value: (ld)
ğŸ”–Hello Wor + ld
scan into: Hello World
scan:: receive value: (!)
ğŸ”–Hello World + !
scan into: Hello World!
scan:: receive finished
```

